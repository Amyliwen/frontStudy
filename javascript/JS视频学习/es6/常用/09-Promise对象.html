<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<!--
1、Promise对象：可以将异步操作以同步的流程表达出来，避免了层层嵌套的回调函数（回调地狱，代码耦合度高）
ES6的Promise是一个构造函数，用来生成promise实例

3.promise对象的三个状态
pending:初始化状态
fullfilled:成功状态
rejected:失败状态
-->

<script>
    //创建promise对象
    let promise = new Promise((resolve, reject) =>{
        //初始化promise状态：pending 初始化
        console.log("111");
        //执行异步操作，通常是发送ajax请求，开启定时器
        setInterval(() => {
            console.log("333");
            //根据异步任务的返回结构来去修改promise的状态
            //异步任务执行成功
            // resolve(); //自动修改promise的状态为fullfilled成功的状态
            //异步任务执行失败
            reject(); //自动修改promise的状态为fullfilled成功的状态

        },2000)
    })
    console.log("222");
    promise.then(() => {//成功的回调
        console.log("OK");
    },() => {//失败的回调
        console.log("失败");
    })
</script>
</body>
</html>
